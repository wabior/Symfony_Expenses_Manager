<nav class="nav-gradient sticky top-0 z-50 shadow-2xl">
    <div class="container mx-auto px-4">
        <div class="flex justify-between items-center h-16">
            <!-- Logo/Brand -->
            <div class="flex items-center">
                <a href="{{ path('home') }}" class="text-2xl font-bold text-white hover:text-blue-200 transition-colors duration-300 flex items-center">
                    <svg class="w-8 h-8 mr-2" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z"/>
                    </svg>
                    ExpenseManager
                </a>
            </div>

            <!-- Main Navigation -->
            <ul class="hidden md:flex items-center space-x-2">
                {% for item in menu_items %}
                    <li>
                        <a href="{{ item.path }}" class="nav-link {% if item.active %}font-bold underline decoration-2 underline-offset-4 {% endif %}">{{ item.friendly_name }}</a>
                    </li>
                {% endfor %}
                </ul>
            </ul>

            <!-- User Section -->
            <div class="flex items-center space-x-4">
                {% if user %}
                    <div class="hidden md:flex items-center space-x-3">
                        <div class="flex items-center text-white/90">
                            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                            </svg>
                            <span class="text-sm">{{ user.userIdentifier }}</span>
                        </div>
                        <a href="{{ path('app_logout') }}" class="btn-secondary text-sm px-4 py-2">
                            Wyloguj
                        </a>
                    </div>
                    <!-- Mobile user menu -->
                    <div class="md:hidden flex items-center">
                        <a href="{{ path('app_logout') }}" class="text-white/80 hover:text-white px-3 py-2 rounded-lg transition-colors">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                            </svg>
                        </a>
                    </div>
                {% else %}
                    <a href="{{ path('app_login') }}" class="btn-primary text-sm px-4 py-2">
                        Zaloguj
                    </a>
                {% endif %}

                <!-- Mobile menu button -->
                <button class="md:hidden text-white hover:text-blue-200 transition-colors" id="mobile-menu-button">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Mobile Navigation Menu -->
        <div class="md:hidden hidden" id="mobile-menu">
            <ul class="px-2 pt-2 pb-3 space-y-1 bg-white/10 backdrop-blur-sm rounded-lg mt-2">
                {% for item in menu_items %}
                    <li>
                        <a href="{{ item.path }}" class="block px-3 py-2 text-white hover:bg-white/20 rounded-lg transition-colors {% if item.active %}font-bold underline decoration-2 underline-offset-4 {% endif %}">
                            {{ item.friendly_name }}
                        </a>
                    </li>
                {% endfor %}
                {% if user %}
                    <li class="border-t border-white/20 mt-2 pt-2">
                        <span class="block px-3 py-2 text-white/80 text-sm">
                            {{ user.userIdentifier }}
                        </span>
                    </li>
                {% endif %}
            </ul>
        </div>
    </div>
</nav>

<script>
// Mobile menu toggle
document.getElementById('mobile-menu-button').addEventListener('click', function() {
    const menu = document.getElementById('mobile-menu');
    menu.classList.toggle('hidden');
});
</script>
